<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스마트 윈도우</title>
    <style>
        table {
            border-collapse: collapse;
        }

        table,
        th,
        td {
            border: 1px solid;
        }
    </style>
</head>

<body>
    <h1>Firebase EXAMPLE</h1><br />
    <div id="container"></div>
    <div id="container2"></div>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-firestore.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAlUkKCjlnXXI15SUrLCWEaMPnHPkgg6sA",
            authDomain: "smart-window-72fb6.firebaseapp.com",
            databaseURL: "https://smart-window-72fb6-default-rtdb.firebaseio.com",
            projectId: "smart-window-72fb6",
            storageBucket: "smart-window-72fb6.appspot.com",
            messagingSenderId: "356997279942",
            appId: "1:356997279942:web:dc317ecfc74ce052e7a7c7",
            measurementId: "G-7GV8726MBS"
        };
        
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        database.ref('students').set({
            "full_name": "Andrew",
            "age": 17,
            "grade": "A"
        });

        database.ref("sensor").on("value", snapshot => {
            const object = snapshot.val();
            document.querySelector("#container").innerHTML =
                object.temp + ", " + object.humi + ", " + object.dust;
        });
        database.ref("students").on("value", snapshot => {
            const object = snapshot.val();
            document.querySelector("#container2").innerHTML =
                object.full_name + ", " + object.grade + ", " + object.age;
        });
    </script>
</body>

</html>